---
title: 正则表达式
date: 2018/11/29 8:32:20
tags:
  - program
  - regular
category: Cornucopia
---

## 基本概念
正则表达式，是用来表示特定字符串集的一种表达式。一个定义字符串集的简单方式是列出其所有的元素，但是正则表达式能够更简洁的表示。例如，一个字符串集包括"Handel","Händel"以及"haendel"只需要简单的使用`H(ä|ae?)ndel`来表示，并称为该模型能够匹配三个字符串中的任何一个。
下面给出正则表达式常用的匹配操作：
* **逻辑或**：使用竖直的线表示，例如：`gray|grey`能够匹配"gray"或"grey"。
* **分组(grouping)**：使用括号表示，例如：`gray|grey`和`gr(a|e)y`都能表示"gray"和"grey"的集合，这两个表达式是相同的。
* **定量(Quantification)**：表示符号或者分组出现的次数。通常有以下集中方式：
  符号    | 含义 | 例子
  ------ | ------ | ------
  `?` | 前一元素出现0或1次 | `colou?r`能够匹配"color"以及"colour"
  `*` | 前一元素出现0或多次 | `ab*c`能够匹配"ac","abc","abbc","abbbc"等
  `+` | 前一元素出现1或多次 | `ab+c`能够匹配"abc", "abbc", "abbbc"等，但不能匹配"ac"
  `{n}` | 前一元素恰好出现n次
  `{min, }` | 前一元素最少出现*min*次
* **通配符(Wildcard)**：`.`能够匹配任意的一个字符。例如，`a.b`能够匹配任何以a开始，然后是其他任意*一个*字符，最后以b结尾的字符串。`a.*b`能够匹配任何以a开头并以b结尾的字符串。
>上面的操作能够进行类似于加减乘除的操作，例如`H(ae?|ä)ndel`和`H(a|ae|ä)ndel`都能够跟`H(ä|ae?)ndel`表达式匹配的字符串相同。

## 形式语言理论
### 形式定义
正则表达式包括**常量**(用来表示字符串集)和**操作符号**(用来表示字符串集之间的操作)。下面给出的定义是标准的，在很多的形式语言上都适用。
给定有限的字母表$\Sigma$，下面的常量被定义为正则表达式：
* 空集：$\phi$
* 空字符串：$\varepsilon$，表示不含任何字符的字符串。
* 字符：在$\Sigma$的`a`表示集合仅仅包含字符*a*。

给定常规的表达式`R`和`S`，下面定义了产生新的表达式的操作：
* 连接(concatenation) `RS`表示集合包括`R`中字符串和`S`中字符串的连接。例如， R={"ab", "c"}, S={"d", "ef"}，那么RS={"abd", "abef", "cd", "cef"}。
* 或(alternation) `R|S`表示`R`和`S`的并集。例如，R={"ab", "c"}, S={"ab", "d", "ef"}，那么R|S={"ab", "c", "d", "ef"}。
* Kleene星号 `R*`表示集合中包含$\varepsilon$的最小超集，在字符串的连接下是闭合的。例如， {"0", "1"}\*表示任意的二进制字符串。{"ab", "c"}\*={$\varepsilon$, "ab", "c", "abab", "abc", "cab", "cc", "ababab", "abcab", ...}。

在没有括号的条件下，Kleene星号有最高的优先级，其次是连接，再次是或操作。如果没有歧义，那么括号是可以省略的。如`(ab)c`可以写作`abc`，`a|(b(c*))`可以写作`a|bc*`。
